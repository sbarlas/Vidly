@model List<Vidly.Models.Customer>
@{
    ViewBag.Title = "MainList";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Customers</h2>
<br/>
@Html.ActionLink("Add customer", "New" , "Customers", null, new { @class="btn btn-primary"})
<br/>
<br />

@if(Model.Count > 0)
{
    <table class="table table-bordered table-hover">
        <tr><th>Customer Name</th><th>Date of Birth</th><th>Active</th><th>Membership type</th><th>Discount Rate</th></tr>

        @foreach (var customerItem in Model)
        {
            <tr>
            
            <td>@Html.ActionLink(customerItem.Name, "Edit", "Customers", new { Id = customerItem.Id }, null)</td>
                <td>
                    @if (customerItem.DateOfBirth != null)
                    {
                        <text>@String.Format("{0:dd MMM yyyy}" , customerItem.DateOfBirth)
                        &nbsp;&nbsp;&nbsp;&nbsp;[Age: @customerItem.Age]</text>

                    }
                    else
                    {
                         <text>N/A</text>
                    }
                </td>
                <td>@customerItem.IsActive</td>
                <td>@customerItem.MembershipType.MembershipName</td>
                <td>@customerItem.MembershipType.DiscountRate%</td>
            </tr>
        }

        </table>
        
}
else
{
    <text>There are no customers in the system</text>
}